(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{171:function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=n(370),i=n(221),a=n(369),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latencyDistribution=function(){return Math.floor(Math.max(o(),0))},this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=r.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var o=!0,i=!1,a=void 0;try{for(var s,c=n.slice(0,t)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;this.peers[e.pid].push(u),this.peers[u.pid].push(e)}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}},{key:"broadcast",value:function(e,t){var n=!0,o=!1,r=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}}},{key:"broadcastTo",value:function(e,t,n){var o=this.time+this.latencyDistribution();o in this.messageQueue||(this.messageQueue[o]=[]),this.messageQueue[o].push({sender:e,sentTime:this.time,recipient:t,recvTime:o,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var o,r=this.messageQueue[this.time][Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&a.onReceive(s)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}delete this.messageQueue.time}var c=!0,u=!1,l=void 0;try{for(var h,f=this.agents[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){h.value.tick()}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&o(t.prototype,n),s&&o(t,s),e}();e.exports=s},222:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),i=n(12),a=n.n(i),s=(n(483),n(482),n(74)),c=n(51),u=n(2),l=n(215),h={SYMBOLS:{CIRCLE:"circle",CROSS:"cross",DIAMOND:"diamond",SQUARE:"square",STAR:"star",TRIANGLE:"triangle",WYE:"wye"}};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){f(e,t,n[t])})}return e}({COORDS_SEPARATOR:",",FORCE_IDEAL_STRENGTH:-1e3,FORCE_X:.06,FORCE_Y:.06,GRAPH_CONTAINER_ID:"graph-container-zoomable",GRAPH_WRAPPER_ID:"graph-wrapper",KEYWORDS:{SAME:"SAME"},LINK_CLASS_NAME:"link",NODE_CLASS_NAME:"node"},h),p={automaticRearrangeAfterDropNode:!1,height:1e3,highlightDegree:1,highlightOpacity:1,linkHighlightBehavior:!1,maxZoom:8,minZoom:1,nodeHighlightBehavior:!1,panAndZoom:!1,staticGraph:!1,width:1e3,node:{color:"#d3d3d3",fontColor:"black",fontSize:8,fontWeight:"normal",highlightColor:"SAME",highlightFontSize:8,highlightFontWeight:"normal",highlightStrokeColor:"SAME",highlightStrokeWidth:1.5,labelProperty:"id",mouseCursor:"pointer",opacity:1,renderLabel:!0,size:200,strokeColor:"none",strokeWidth:1.5,svg:"",symbolType:"circle"},link:{color:"#000000",opacity:1,semanticStrokeWidth:!1,strokeWidth:1.5,highlightColor:"#d3d3d3"}},y={GRAPH_NO_ID_PROP:"id prop not defined! id property is mandatory and it should be unique.",INVALID_LINKS:"you provided a invalid links data structure. Links source and target attributes must point to an existent node",INSUFFICIENT_DATA:"you have not provided enough data for react-d3-graph to render something. You need to provide at least one node"};function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var O=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return v(o,(n=o=v(this,(e=k(t)).call.apply(e,[this].concat(i))),o.handleOnMouseOverLink=function(){return o.props.onMouseOverLink&&o.props.onMouseOverLink(o.props.source,o.props.target)},o.handleOnMouseOutLink=function(){return o.props.onMouseOutLink&&o.props.onMouseOutLink(o.props.source,o.props.target)},n))}var n,o,i;return n=t,(o=[{key:"render",value:function(){var e={strokeWidth:this.props.strokeWidth,stroke:this.props.stroke,opacity:this.props.opacity},t={className:this.props.className,onClick:this.handleOnClickLink,onMouseOut:this.handleOnMouseOutLink,onMouseOver:this.handleOnMouseOverLink,style:e,x1:this.props.x1,x2:this.props.x2,y1:this.props.y1,y2:this.props.y2};return r.a.createElement("line",t)}}])&&m(n.prototype,o),i&&m(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");b(e.prototype,t&&t.prototype),t&&b(e,t)}(t,e),t}(r.a.Component);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){S(e,t,n[t])})}return e}({ARC:{START_ANGLE:0,END_ANGLE:2*Math.PI},DEFAULT_NODE_SIZE:p.node.size,NODE_LABEL_DX:".90em",NODE_LABEL_DY:".35em"},h),E=n(32);var _={buildSvgSymbol:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.DEFAULT_NODE_SIZE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.SYMBOLS.CIRCLE;return Object(E.a)().size(function(){return e}).type(function(){return function(e){switch(e){case w.SYMBOLS.CIRCLE:return E.b;case w.SYMBOLS.CROSS:return E.c;case w.SYMBOLS.DIAMOND:return E.d;case w.SYMBOLS.SQUARE:return E.e;case w.SYMBOLS.STAR:return E.f;case w.SYMBOLS.TRIANGLE:return E.g;case w.SYMBOLS.WYE:return E.h;default:return E.b}}(t)})()}};function N(e){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==N(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var M=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return j(o,(n=o=j(this,(e=x(t)).call.apply(e,[this].concat(i))),o.handleOnClickNode=function(){return o.props.onClickNode&&o.props.onClickNode(o.props.id)},o.handleOnMouseOverNode=function(){return o.props.onMouseOverNode&&o.props.onMouseOverNode(o.props.id)},o.handleOnMouseOutNode=function(){return o.props.onMouseOut&&o.props.onMouseOut(o.props.id)},n))}var n,o,i;return n=t,(o=[{key:"render",value:function(){var e,t,n={cursor:this.props.cursor,onClick:this.handleOnClickNode,onMouseOut:this.handleOnMouseOutNode,onMouseOver:this.handleOnMouseOverNode,opacity:this.props.opacity},o={dx:this.props.dx||w.NODE_LABEL_DX,dy:w.NODE_LABEL_DY,fill:this.props.fontColor,fontSize:this.props.fontSize,fontWeight:this.props.fontWeight,opacity:this.props.opacity},i=this.props.size,a=this.props.cx,s=this.props.cy;if(this.props.svg){var c=i/10,u=i/10,l=u/2,h=c/2,f="translate(".concat(l,",").concat(h,")");e=r.a.createElement("text",Object.assign({},o,{transform:f}),this.props.label),t=r.a.createElement("image",Object.assign({},n,{href:this.props.svg,width:u,height:c})),a-=l,s-=h}else n.d=_.buildSvgSymbol(i,this.props.type),n.fill=this.props.fill,n.stroke=this.props.stroke,n.strokeWidth=this.props.strokeWidth,e=r.a.createElement("text",o,this.props.label),t=r.a.createElement("path",n);var d={className:this.props.className,cx:this.props.cx,cy:this.props.cy,id:this.props.id,transform:"translate(".concat(a,",").concat(s,")")};return r.a.createElement("g",d,t,this.props.renderLabel&&e)}}])&&C(n.prototype,o),i&&C(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");T(e.prototype,t&&t.prototype),t&&T(e,t)}(t,e),t}(r.a.Component);function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L=20;function A(e,t){return e.hasOwnProperty(t)&&"object"===P(e[t])&&null!==e[t]&&!R(e[t])}function R(e){return!!e&&"object"===P(e)&&!Object.keys(e).length}var D={isDeepEqual:function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if(0===o&&t===n)return!0;if(R(t)&&!R(n)||!R(t)&&R(n))return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var s=0;s<i.length;s++){var c=i[s];if(A(t,c)&&A(n,c)&&o<L)r.push(e(t[c],n[c],o+1));else{var u=R(t[c])&&R(n[c])||n.hasOwnProperty(c)&&n[c]===t[c];if(r.push(u),!u)break}}return-1===r.indexOf(!1)},isObjectEmpty:R,merge:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={};if(0===Object.keys(t||{}).length)return n&&!R(n)?n:{};for(var i=Object.keys(t),a=0;a<i.length;a++){var s=i[a];n[s]&&"object"===P(n[s])&&"object"===P(t[s])&&o<L?function(){var i=e(t[s],n[s],o+1);r[s]=t[s].hasOwnProperty("length")&&n[s].hasOwnProperty("length")?Object.keys(i).map(function(e){return i[e]}):i}():r[s]=n.hasOwnProperty(s)?n[s]:t[s]}return r},pick:function(e,t){return Object.keys(e).reduce(function(n,o){return e.hasOwnProperty(o)&&t.includes(o)&&(n[o]=e[o]),n},{})},throwErr:function(e,t){var n="react-d3-graph :: ".concat(e," :: ").concat(t);throw Error(n)}};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=["id","highlighted","x","y","index","vy","vx"];function G(e,t,n,o){var r=e.highlighted||e.id===(n&&n.source)||e.id===(n&&n.target),i=!!(t||n&&n.source&&n.target);return i&&0===o.highlightDegree?r?o.node.opacity:o.highlightOpacity:i?r?o.node.opacity:o.highlightOpacity:o.node.opacity}function z(e,t){var n,o=e.data,r=e.id,i=e.config;!function(e){e.nodes&&e.nodes.length||D.throwErr("Graph",y.INSUFFICIENT_DATA);for(var t=e.links.length,n=function(t){var n=e.links[t];e.nodes.find(function(e){return e.id===n.source})||D.throwErr("Graph","".concat(y.INVALID_LINKS,' - "').concat(n.source,'" is not a valid source node id')),e.nodes.find(function(e){return e.id===n.target})||D.throwErr("Graph","".concat(y.INVALID_LINKS,' - "').concat(n.target,'" is not a valid target node id'))},o=0;o<t;o++)n(o)}(o);var a=o.nodes.map(function(e){return Object.assign({},e)}),s=o.links.map(function(e){return Object.assign({},e)});(n=t&&t.nodes&&t.links?{nodes:o.nodes.map(function(e){return t.nodes[e.id]?Object.assign({},e,D.pick(t.nodes[e.id],W)):Object.assign({},e)}),links:{}}:{nodes:o.nodes.map(function(e){return Object.assign({},e)}),links:{}}).links=o.links.map(function(e){return Object.assign({},e)});var u,l,h,f,g=Object.assign({},D.merge(p,i||{})),b=function(e){for(var t={},n=e.length,o=0;o<n;o++){var r=e[o];r.highlighted=!1,r.hasOwnProperty("x")||(r.x=0),r.hasOwnProperty("y")||(r.y=0),t[r.id.toString()]=r}return t}(n.nodes),m=n.links.reduce(function(e,t){var n=t.source.id||t.source,o=t.target.id||t.target;return e[n]||(e[n]={}),e[o]||(e[o]={}),e[n][o]=e[o][n]=t.value||1,e},{}),v=n,k=v.nodes,O=v.links;return{id:r.replace(/ /g,"_"),config:g,links:m,d3Links:O,linksInputSnapshot:s,nodes:b,d3Nodes:k,nodesInputSnapshot:a,highlightedNode:"",simulation:(u=g.width,l=g.height,h=Object(c.d)(u/2).strength(d.FORCE_X),f=Object(c.e)(l/2).strength(d.FORCE_Y),Object(c.c)().force("charge",Object(c.b)().strength(d.FORCE_IDEAL_STRENGTH)).force("x",h).force("y",f)),newGraphElements:!1,configUpdated:!1,transform:1}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t,n,o,i,a,s,c){return t.map(function(t){var u=t.source,l=t.target,h=u.id||u,f=l.id||l,p="".concat(h).concat(d.COORDS_SEPARATOR).concat(f),y=function(e,t,n,o,r,i,a,s){var c=e.source,u=e.target,l=t[c]&&t[c].x||0,h=t[c]&&t[c].y||0,f=t[u]&&t[u].x||0,p=t[u]&&t[u].y||0,y=!1;switch(o.highlightDegree){case 0:break;case 2:y=!0;break;default:y=c===i||u===i}var g=y&&t[c].highlighted&&t[u].highlighted,b=c===(a&&a.source)&&u===(a&&a.target),m=g||b,v=o.link.opacity;(i||a&&a.source)&&(v=m?o.link.opacity:o.highlightOpacity);var k=e.color||o.link.color;m&&(k=o.link.highlightColor===d.KEYWORDS.SAME?o.link.color:o.link.highlightColor);var O=o.link.strokeWidth*(1/s);return o.link.semanticStrokeWidth&&(O+=(n[c][u]||n[u][c]||1)*O/10),{source:c,target:u,x1:l,y1:h,x2:f,y2:p,strokeWidth:O,stroke:k,className:d.LINK_CLASS_NAME,opacity:v,onClickLink:r.onClickLink,onMouseOverLink:r.onMouseOverLink,onMouseOutLink:r.onMouseOutLink}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){H(e,t,n[t])})}return e}({},t,{source:"".concat(h),target:"".concat(f)}),e,n,o,i,"".concat(a),s,c);return r.a.createElement(O,Object.assign({key:p},y))})}var B=n(98);function Y(e,t,n,o,i,a,s,c){return Object.keys(e).map(function(u){var l,h;if(e[u].isMessage){l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=e.highlighted||e.id===(r&&r.source)||e.id===(r&&r.target),s=G(e,o,r,t);e.color||t.node.color,a&&t.node.highlightColor!==d.KEYWORDS.SAME&&t.node.highlightColor;var c=t.node.strokeColor;a&&t.node.highlightStrokeColor!==d.KEYWORDS.SAME&&(c=t.node.highlightStrokeColor);var u=1/i,l=e.size||t.node.size,h=(a?t.node.highlightFontSize:t.node.fontSize)*u+l/100+1.5,f=a?t.node.highlightStrokeWidth:t.node.strokeWidth,p=e.svg||t.node.svg,y=e.fontColor||t.node.fontColor;return{className:d.NODE_CLASS_NAME,cursor:t.node.mouseCursor,cx:e&&e.x||"0",cy:e&&e.y||"0",fill:"#00FF1E",fontColor:y,fontSize:0,dx:h,fontWeight:a?t.node.highlightFontWeight:t.node.fontWeight,id:e.id,label:"",onClickNode:n.onClickNode,onMouseOverNode:n.onMouseOverNode,onMouseOut:n.onMouseOut,opacity:s,renderLabel:t.node.renderLabel,size:15*u,stroke:c,strokeWidth:f*u,svg:p,type:e.symbolType||t.node.symbolType}}(Object.assign({},e[u],{id:"".concat(u)}),n,{},o,i,a);var f=e[u].sig.substring(2,8);l.fill="#"+f,e[u].isDoubleSpend&&(l.size=18,l.stroke="#ff0000",l.strokeWidth=1)}else if(l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=e.highlighted||e.id===(r&&r.source)||e.id===(r&&r.target),s=G(e,o,r,t),c=e.color||t.node.color;a&&t.node.highlightColor!==d.KEYWORDS.SAME&&(c=t.node.highlightColor);var u=t.node.strokeColor;a&&t.node.highlightStrokeColor!==d.KEYWORDS.SAME&&(u=t.node.highlightStrokeColor);var l=1/i,h=e.size||t.node.size,f=a?t.node.highlightFontSize:t.node.fontSize,p=f*l+h/100+1.5,y=a?t.node.highlightStrokeWidth:t.node.strokeWidth,g=e.svg||t.node.svg,b=e.fontColor||t.node.fontColor;return{className:d.NODE_CLASS_NAME,cursor:t.node.mouseCursor,cx:e&&e.x||"0",cy:e&&e.y||"0",fill:c,fontColor:b,fontSize:f*l,dx:p,fontWeight:a?t.node.highlightFontWeight:t.node.fontWeight,id:e.id,label:e[t.node.labelProperty]||e.id,onClickNode:n.onClickNode,onMouseOverNode:n.onMouseOverNode,onMouseOut:n.onMouseOut,opacity:s,renderLabel:t.node.renderLabel,size:h*l,stroke:u,strokeWidth:y*l,svg:g,type:e.symbolType||t.node.symbolType}}(Object.assign({},e[u],{id:"".concat(u)}),n,t,o,i,a),s){var p=s(u,Math.floor(c));if(p){var y=p.state;if(y){var g=(h=y,B.hash.keccak256(JSON.stringify(h))).substr(-6);l.fill="#"+g}}}return r.a.createElement(M,Object.assign({key:u},l))})}function K(e){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function J(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var q={FORCE_LINK_STRENGTH:1,LINK_IDEAL_DISTANCE:100,SIMULATION_ALPHA_TARGET:.05};function X(e,t){return Object.keys(e).find(function(n){return e[n]===t})}var $=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,V(t).call(this,e)))._onDragEnd=function(){return!n.state.config.staticGraph&&n.state.config.automaticRearrangeAfterDropNode&&n.state.simulation.alphaTarget(q.SIMULATION_ALPHA_TARGET).restart()},n._onDragMove=function(e,t,o){var r=o[t].id;if(!n.state.config.staticGraph){var i=n.state.nodes[r];i.x+=u.b.dx,i.y+=u.b.dy,i.fx=i.x,i.fy=i.y,n._tick(),n.animate()}},n._onDragStart=function(){return n.pauseSimulation()},n._setNodeHighlightedValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n._tick(function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r?o:"",a=Object.assign({},e[o],{highlighted:r}),s=Object.assign({},e,I({},o,a));return t[o]&&0!==n.highlightDegree&&(s=Object.keys(t[o]).reduce(function(e,t){var n=Object.assign({},s[t],{highlighted:r});return Object.assign(e,I({},t,n))},s)),{nodes:s,highlightedNode:i}}(n.state.nodes,n.state.links,n.state.config,e,t))},n._tick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.setState(e)},n._zoomConfig=function(){return Object(u.f)("#".concat(n.state.id,"-").concat(d.GRAPH_WRAPPER_ID)).call(Object(l.a)().scaleExtent([n.state.config.minZoom,n.state.config.maxZoom]).on("zoom",n._zoomed))},n._zoomed=function(){var e=u.b.transform;Object(u.g)("#".concat(n.state.id,"-").concat(d.GRAPH_CONTAINER_ID)).attr("transform",e),n.state.config.panAndZoom&&n.setState({transform:e.k})},n.onMouseOverNode=function(e){},n.onMouseOutNode=function(e){n.props.onMouseOutNode&&n.props.onMouseOutNode(e),n.state.config.nodeHighlightBehavior&&n._setNodeHighlightedValue(e,!1)},n.onMouseOverLink=function(e,t){n.props.onMouseOverLink&&n.props.onMouseOverLink(e,t),n.state.config.linkHighlightBehavior&&(n.state.highlightedLink={source:e,target:t},n._tick())},n.onMouseOutLink=function(e,t){n.props.onMouseOutLink&&n.props.onMouseOutLink(e,t),n.state.config.linkHighlightBehavior&&(n.state.highlightedLink=void 0,n._tick())},n.pauseSimulation=function(){return n.state.simulation.stop()},n.resetNodesPositions=function(){if(!n.state.config.staticGraph){for(var e in n.state.nodes){var t=n.state.nodes[e];t.fx&&t.fy&&(Reflect.deleteProperty(t,"fx"),Reflect.deleteProperty(t,"fy"))}n.state.simulation.alphaTarget(q.SIMULATION_ALPHA_TARGET).restart(),n._tick()}},n.restartSimulation=function(){return!n.state.config.staticGraph&&n.state.simulation.restart()},n.props.id||D.throwErr(n.constructor.name,y.GRAPH_NO_ID_PROP),n.state=z(n.props,n.state),n.state.time=0,n.state.paused=!1,n}var n,o,i;return n=t,(o=[{key:"componentWillReceiveProps",value:function(e){var t=e.data.nodes.length!==this.state.nodesInputSnapshot.length||e.data.links.length!==this.state.linksInputSnapshot.length||!D.isDeepEqual(e.data,{nodes:this.state.nodesInputSnapshot,links:this.state.linksInputSnapshot}),n=!D.isObjectEmpty(e.config)&&!D.isDeepEqual(e.config,this.state.config),o=t?z(e,this.state):this.state,r=n?D.merge(p,e.config||{}):this.state.config;t&&this.pauseSimulation();var i=e.config.panAndZoom!==this.state.config.panAndZoom?1:this.state.transform;this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){U(e,t,n[t])})}return e}({},o,{config:r,newGraphElements:t,configUpdated:n,transform:i})),e.messages&&this.setState({messages:e.messages}),e.speed&&this.setState({speed:e.speed}),e.nodeState&&this.setState({nodeState:e.nodeState});this.state.nodes;var a=this.state.paused;this.setState({paused:e.paused},function(){a&&!e.paused&&this.tick()})}},{key:"componentDidUpdate",value:function(){this.state.config.staticGraph&&this.pauseSimulation(),!this.state.config.staticGraph&&this.state.newGraphElements&&(this._graphForcesConfig(),this.restartSimulation(),this.setState({newGraphElements:!1})),this.state.configUpdated&&(this._zoomConfig(),this.setState({configUpdated:!1}))}},{key:"componentDidMount",value:function(){this.state.config.staticGraph||this._graphForcesConfig(),this._zoomConfig(),this.tick=this.tick.bind(this),this.animate=this.animate.bind(this),this.getTick=this.props.onTick,this.start()}},{key:"componentWillUnmount",value:function(){this.pauseSimulation()}},{key:"start",value:function(){this.tick(),this.getTick(0)}},{key:"tick",value:function(){if(this.state.paused)console.log("paused!");else{var e=this.state.time,t=this.state.time+.1;if(this.animate(),Math.floor(t)-Math.floor(e)==1){for(var n=this.state.messages,o=this.state.nodes,r=0;r<n.length;r++){delete o[X(o,n[r].node)]}this.getTick(Math.floor(t))}this.animate(),this.setState({time:t}),setTimeout(this.tick,1)}}},{key:"step",value:function(e){var t=this.state.messages,n=this.state.nodes;console.log(n);for(var o=0;o<t.length;o++){var r=X(n,t[o].node);console.log("to delete:",r),delete n[r]}console.log(n),this.animate(),this.setState({time:e},function(){console.log("SET TIME TO",this.state.time),this.getTick(e),this.animate()})}},{key:"animate",value:function(){var e=this.state.messages;if(e){for(var t=0;t<e.length;t++){var n=this.state.nodes;if(!e[t].node){var o=new M;e[t].node=o,o.isMessage=!0,o.isDoubleSpend=e[t].message.isDoubleSpend,o.sig=e[t].message.sig,n[this.state.time+Math.random()]=o}var r=e[t].node,i=(this.state.time-e[t].sentTime)/(e[t].recvTime-e[t].sentTime);if(i<=1&&i>=0){var a=n[e[t].sender],s=n[e[t].recipient.pid];r.x=a.x,r.y=a.y,r.x=s.x,r.y=s.y,r.x=i*(s.x-a.x)+a.x,r.y=i*(s.y-a.y)+a.y}else if(i>1){delete n[X(n,r)],e.splice(t,1)}}this.setState({messages:e})}}},{key:"render",value:function(){var e=function(e,t,n,o,r,i,a,s,c,u,l){return{nodes:Y(e,t,i,a,s,c,u,l),links:F(e,n,o,i,r,a,s,c)}}(this.state.nodes,{onClickNode:this.props.onClickNode,onMouseOverNode:this.onMouseOverNode,onMouseOut:this.onMouseOutNode},this.state.d3Links,this.state.links,{onClickLink:this.props.onClickLink,onMouseOverLink:this.onMouseOverLink,onMouseOutLink:this.onMouseOutLink},this.state.config,this.state.highlightedNode,this.state.highlightedLink,this.state.transform,this.state.nodeState,this.state.time),t=e.nodes,n=e.links;document.getElementById("Graph-container");return r.a.createElement("div",{id:"".concat(this.state.id,"-").concat(d.GRAPH_WRAPPER_ID)},r.a.createElement("svg",{style:{maxHeight:"100%",maxWidth:"100%",viewBox:"0 0 1000 1000",preserveAspectRatio:"xMaxYMax"}},r.a.createElement("g",{id:"".concat(this.state.id,"-").concat(d.GRAPH_CONTAINER_ID)},n,t)))}},{key:"_graphForcesConfig",value:function(){this.state.simulation.nodes(this.state.d3Nodes).on("tick",this._tick);var e=Object(c.a)(this.state.d3Links).id(function(e){return e.id}).distance(q.LINK_IDEAL_DISTANCE).strength(q.FORCE_LINK_STRENGTH);this.state.simulation.force(d.LINK_CLASS_NAME,e);var t=Object(s.a)().on("start",this._onDragStart).on("drag",this._onDragMove).on("end",this._onDragEnd);Object(u.f)("#".concat(this.state.id,"-").concat(d.GRAPH_WRAPPER_ID)).selectAll(".node").call(t)}}])&&Z(n.prototype,o),i&&Z(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Q(e.prototype,t&&t.prototype),t&&Q(e,t)}(t,e),t}(r.a.Component),ee=n(24),te=(n(171),n(213));n(231);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ce=[{title:"Address",dataIndex:"address",key:"address",width:200},{title:"Balance",dataIndex:"balance",key:"balance",width:100},{title:"Nonce",dataIndex:"nonce",key:"nonce",width:50}],ue=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ae(this,se(t).call(this,e))).state={node:e.node},n}var n,o,i;return n=t,(o=[{key:"componentWillReceiveProps",value:function(e){this.setState({node:e.node})}},{key:"render",value:function(){var e=this.state.node,t=e?Object.keys(e.state).map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){oe(e,t,n[t])})}return e}({},e.state[t],{address:t.substring(0,10),key:t})}):null;return r.a.createElement("div",{id:"Sidebar"},e?r.a.createElement("div",null,r.a.createElement("h4",null,"Node ",e.pid.substring(0,10)),r.a.createElement(te.a,{columns:ce,data:t,expandedRowRender:function(t){return"Invalid Nonce Txs: "+(n=t.key,e.invalidNonceTxs&&e.invalidNonceTxs[n]?JSON.stringify(e.invalidNonceTxs[n]):"None");var n},expandIconAsCell:!0})):"No node selected.")}}])&&ie(n.prototype,o),i&&ie(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");re(e.prototype,t&&t.prototype),t&&re(e,t)}(t,e),t}(o.Component);function le(e){return(le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e,t){return!t||"object"!==le(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ye=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,pe(t).call(this,e))}var n,o,i;return n=t,(o=[{key:"render",value:function(){var e,t=this.props,n=t.paused,o=t.onPause,i=t.onPauseTxs,a=t.pausedTxs,s=t.doubleSpend,c=t.clickedNode;t.stepforward,t.stepbackward,t.rewind,t.fastforward,t.reset;return e=c?r.a.createElement("button",{style:{background:"red",color:"white"},onClick:function(){return s(c)}},"Double Spend"):r.a.createElement("button",{disabled:!0},"Double Spend"),r.a.createElement("div",{id:"Controls"},r.a.createElement("button",{onClick:o},n?"Resume":"Pause"),r.a.createElement("button",{onClick:i},a?"Resume Txs":"Pause Txs"),e)}}])&&fe(n.prototype,o),i&&fe(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");he(e.prototype,t&&t.prototype),t&&he(e,t)}(t,e),t}(o.Component),ge=n(214);n(223);function be(e){return(be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ke(e,t){return!t||"object"!==be(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}o.Component;var Se=n(216),we=n.n(Se);function Ee(e){return(Ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Ne(e,t,n[t])})}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function je(e,t){return!t||"object"!==Ee(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}for(var Me={nodes:[],links:[]},Pe=0;Pe<ee.nodes.length;Pe++)Me.nodes.push({id:ee.nodes[Pe].pid,name:ee.nodes[Pe].pid.slice(0,10)});var Le=!0,Ae=!1,Re=void 0;try{for(var De,Ie=ee.nodes[Symbol.iterator]();!(Le=(De=Ie.next()).done);Le=!0){var We=De.value,Ge=!0,ze=!1,He=void 0;try{for(var Fe,Be=ee.network.peers[We.pid][Symbol.iterator]();!(Ge=(Fe=Be.next()).done);Ge=!0){var Ye=Fe.value;Me.links.push({source:We.pid,target:Ye.pid})}}catch(y){ze=!0,He=y}finally{try{Ge||null==Be.return||Be.return()}finally{if(ze)throw He}}}}catch(y){Ae=!0,Re=y}finally{try{Le||null==Ie.return||Ie.return()}finally{if(Ae)throw Re}}var Ke={automaticRearrangeAfterDropNode:!0,staticGraph:!1,nodeHighlightBehavior:!0,node:{size:120,highlightStrokeColor:"blue",labelProperty:"name"},link:{highlightColor:"lightblue"}},Ue=function(e,t){window.alert("Clicked link between ".concat(e," and ").concat(t))},Qe=function(e,t){},Ze=function(e,t){},Je=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=je(this,xe(t).call(this))).state={clickedNode:null,history:[],paused:!1,pausedTxs:!0,speed:10},e}var n,o,i;return n=t,(o=[{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(e,o){var r=!0,i=!1,a=void 0;try{for(var s,c=t[e][Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;n.push(_e({},u,{rcvTime:e}))}}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}),n}},{key:"tick",value:function(){ee.network.tick();var e=this.state.history;e.push(we()(ee.network)),this.setState({history:e})}},{key:"getTick",value:function(e){var t=this.state,n=t.history,o=t.clickedNode;if(e>n.length)throw new Error("You skipped a time step!");e===n.length&&this.tick();var r=this.setMessageQueue(n[e]);if(o){var i=this.getNode(o.pid,e);this.setState({clickedNode:i,isNodeClicked:!0})}this.setState({messages:r,time:e})}},{key:"getNode",value:function(e,t){var n=this.state.history[t];if(n)return n.agents.find(function(t){return t.pid===e})}},{key:"onClickNode",value:function(e){var t=this.state,n=t.clickedNode,o=t.time,r=this.getNode(e,o);n&&r.pid===n.pid?this.setState({clickedNode:null,isNodeClicked:!1}):this.setState({clickedNode:r,isNodeClicked:!0})}},{key:"onMouseOverNode",value:function(e){}},{key:"onMouseOutNode",value:function(e){}},{key:"pause",value:function(){this.setState({paused:!this.state.paused})}},{key:"pauseTxs",value:function(){this.setState({pausedTxs:!this.state.pausedTxs});var e=!0,t=!1,n=void 0;try{for(var o,r=ee.nodes[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value;i.pausedSpending=!i.pausedSpending}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"rewind",value:function(){var e=this.state.speed;1.5*e>10||(this.setState({speed:e*=1.5}),console.log("rewind",e))}},{key:"fastforward",value:function(){var e=this.state.speed;e/1.5<.005||(this.setState({speed:e/=1.5}),console.log("fastforward",e))}},{key:"stepbackward",value:function(){console.log("stepbackward");var e=this.state,t=(e.clickedNode,e.time);t<1||(this.setState({paused:!0}),this.graph.step(t-1),this.getTick(t-1),this.graph.animate())}},{key:"stepforward",value:function(){console.log("stepforward");var e=this.state,t=(e.clickedNode,e.time);this.setState({paused:!0}),this.graph.step(t+1),this.getTick(t+1),this.graph.animate()}},{key:"doubleSpend",value:function(e){var t=e.pid,n=[ee.network.peers[t][0],ee.network.peers[t][1]],o=[e.generateTx(n[0].wallet.address,10),e.generateTx(n[1].wallet.address,10)];o[0].isDoubleSpend=!0,o[1].isDoubleSpend=!0,ee.network.broadcastTo(t,n[0],o[0]),ee.network.broadcastTo(t,n[1],o[1]),console.log("Double spender:",t,"victims:",n,"spends:",o)}},{key:"reset",value:function(){console.log("reset");var e=this.state;e.clickedNode,e.time;this.getTick(0)}},{key:"setSpeed",value:function(e){var t=e/1e3;this.setState({speed:t}),console.log("speeedooo",t)}},{key:"setLatency",value:function(e){var t=e.target.value,n=Math.min(Math.max(parseInt(t),1),10);console.log("latency",t,n)}},{key:"setPacketLoss",value:function(e){var t=e.target.value,n=Math.min(Math.max(parseInt(t),1),20);console.log("packetloss",t,n)}},{key:"render",value:function(){var e=this,t=this.state,n=t.clickedNode,o=t.messages,i=t.time,a=t.paused,s=t.pausedTxs,c=t.speed;return r.a.createElement("div",{id:"App-container"},r.a.createElement("div",{id:"Text-container"},r.a.createElement("h3",null,"V2: A Distributed Ledger"),r.a.createElement("div",{id:"Text"},"Building a centralized payments processor like Paypal is simple, but relies on trust that Paypal will not break the rules. A simple way to decentralize PayPal is to make clients download all transactions and run the PayPal code to generate their belief of the current state.  In this section we see why this is not enough, how to mentally model a network & synchrony assumptions.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Synchronous network"),r.a.createElement("br",null),"Global clock, & there is a known (constant) latency L in which all messages are assumed to be received. For instance all messages propagate in 5 seconds.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Partially Synchronous network"),r.a.createElement("br",null),"There is some unknown latency L in which all messages are assumed to be received. It is important to note that this latency is unknown and could be extremely high.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Asynchronous network"),r.a.createElement("br",null),"Local clock, & there are no timing assumptions made. We are not able to determine objectively the time ordering of transactions, though each individual node still has an idea of what order it saw messages arrive in (and different nodes can disagree).",r.a.createElement("br",null),r.a.createElement("br",null),"In a decentralized system, we cannot rely on a global clock, and we cannot assume a constant latency for all messages to be delivered.",r.a.createElement("br",null),r.a.createElement("br",null),"This is the root cause of the double spend problem: an attacker can send one message to Jing & another message to Aparna each spending the same coins. If Jing and Aparna both accept those transactions, their states will diverge and we will have a fork. Not good! We need decentralized consensus!")),r.a.createElement("div",{id:"Network-container"},r.a.createElement("div",{id:"Graph-container"},r.a.createElement($,{ref:function(t){e.graph=t},id:"graph-id",data:Me,config:Ke,onClickNode:this.onClickNode.bind(this),onClickLink:Ue,onMouseOverNode:this.onMouseOverNode.bind(this),onMouseOutNode:this.onMouseOutNode.bind(this),onMouseOverLink:Qe,onMouseOutLink:Ze,messages:o,time:i,speed:c,paused:a,onTick:this.getTick.bind(this),nodeState:this.getNode.bind(this)})),r.a.createElement("div",{id:"Input-container"},r.a.createElement("div",{id:"Controls-container"},r.a.createElement(ye,{onPause:this.pause.bind(this),onPauseTxs:this.pauseTxs.bind(this),paused:a,pausedTxs:s,doubleSpend:this.doubleSpend.bind(this),clickedNode:n,stepbackward:this.stepbackward.bind(this),stepforward:this.stepforward.bind(this),rewind:this.rewind.bind(this),fastforward:this.fastforward.bind(this),reset:this.reset.bind(this)})))),r.a.createElement("div",{id:"Sidebar-container"},r.a.createElement(ue,{node:n})))}}])&&Ce(n.prototype,o),i&&Ce(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Te(e.prototype,t&&t.prototype),t&&Te(e,t)}(t,e),t}(o.Component);function Ve(e){return(Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $e(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$e(this,et(t).apply(this,arguments))}var n,o,i;return n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"App-title"},"Visualizing Consensus")),r.a.createElement(Je,null))}}])&&Xe(n.prototype,o),i&&Xe(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");qe(e.prototype,t&&t.prototype),t&&qe(e,t)}(t,e),t}(o.Component),nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ot(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a.a.render(r.a.createElement(tt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/code",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/code","/service-worker.js");nt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ot(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ot(e)})}}()},24:function(e,t,n){function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}for(var c=n(98),u=n(171),l=n(360),h=l.Node,f=(l.getTxHash,function(e){function t(e,n,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=a(this,s(t).call(this,e,n,o))).pausedSpending=!0,r}var n,o,c;return n=t,(o=[{key:"getRandomReceiver",value:function(){var e=this,t=b.filter(function(t){return t.wallet.address!==e.wallet.address});return t[Math.floor(Math.random()*t.length)].wallet.address}},{key:"tick",value:function(){if(!(this.state[this.wallet.address].balance<10||this.pausedSpending)&&Math.random()<.005){var e=this.generateTx(this.getRandomReceiver(),10);this.transactions.push(e),this.applyTransaction(e),this.network.broadcast(this.pid,e)}}}])&&i(n.prototype,o),c&&i(n,c),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r(e.prototype,t&&t.prototype),t&&r(e,t)}(t,e),t}(h)),d=[],p={},y=new u(15,0),g=0;g<7;g++)d.push(c.createIdentity()),p[d[g].address]={balance:100,nonce:0};for(var b=[],m=0;m<7;m++)b.push(new f(d[m],JSON.parse(JSON.stringify(p)),y)),y.connectPeer(b[m],2);e.exports={nodes:b,network:y}},360:function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=n(98);function i(e){return r.hash.keccak256(JSON.stringify(e))}var a=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=t,this.pid=t.address,this.network=o,this.state=n,this.transactions=[],this.invalidNonceTxs={}}var t,n,a;return t=e,(n=[{key:"onReceive",value:function(e){this.transactions.includes(e)||(this.transactions.push(e),this.applyTransaction(e),this.network.broadcast(this.pid,e),this.applyInvalidNonceTxs(e.contents.from))}},{key:"applyInvalidNonceTxs",value:function(e){var t=this.state[e].nonce;e in this.invalidNonceTxs&&t in this.invalidNonceTxs[e]&&(this.applyTransaction(this.invalidNonceTxs[e][t]),delete this.invalidNonceTxs[e][t],this.applyInvalidNonceTxs(e))}},{key:"tick",value:function(){}},{key:"generateTx",value:function(e,t){var n={type:"send",amount:t,from:this.wallet.address,to:e,nonce:this.state[this.wallet.address].nonce};return{contents:n,sig:r.sign(this.wallet.privateKey,i(n))}}},{key:"applyTransaction",value:function(e){if(r.recover(e.sig,i(e.contents))!==e.contents.from)throw new Error("Invalid signature!");if(e.contents.to in this.state||(this.state[[e.contents.to]]={balance:0,nonce:0}),e.contents.nonce!==this.state[[e.contents.from]].nonce)return e.contents.from in this.invalidNonceTxs||(this.invalidNonceTxs[e.contents.from]={}),void(this.invalidNonceTxs[e.contents.from][e.contents.nonce]=e);if("send"!==e.contents.type)throw new Error("Invalid transaction type!");if(this.state[[e.contents.from]].balance-e.contents.amount<0)throw new Error("Not enough money!");this.state[[e.contents.from]].balance-=e.contents.amount,this.state[[e.contents.to]].balance+=e.contents.amount,this.state[[e.contents.from]].nonce+=1}}])&&o(t.prototype,n),a&&o(t,a),e}();e.exports={Node:a,getTxHash:i}},361:function(e,t){},450:function(e,t){},453:function(e,t){},474:function(e,t){},476:function(e,t){},482:function(e,t,n){},483:function(e,t,n){},493:function(e,t,n){n(492),e.exports=n(222)}},[[493,0,1]]]);
//# sourceMappingURL=main.0bbb99be.chunk.js.map